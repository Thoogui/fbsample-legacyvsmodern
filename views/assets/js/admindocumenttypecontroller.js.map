{"version":3,"sources":["webpack:///webpack/bootstrap 15180e6e545418b0d345","webpack:///(webpack)/buildin/global.js","webpack:///./js/components/event-emitter.js","webpack:///./js/admindocumenttypecontroller.js","webpack:///./js/components/grid/grid.js","webpack:///./js/components/grid/extension/filters-reset-extension.js","webpack:///./js/app/utils/reset_search.js","webpack:///./js/components/grid/extension/sorting-extension.js","webpack:///./js/app/utils/table-sorting.js","webpack:///./js/components/grid/extension/reload-list-extension.js","webpack:///./js/components/grid/extension/column-toggling-extension.js","webpack:///./js/components/grid/extension/export-to-sql-manager-extension.js","webpack:///./js/components/translatable-input.js","webpack:///./node_modules/events/events.js","webpack:///./js/components/choice-table.js","webpack:///./js/components/form-submit-button.js","webpack:///./js/components/taggable-field.js","webpack:///./js/components/form/text-with-recommended-length-counter.js","webpack:///./js/components/translatable-field.js","webpack:///./js/components/tinymce-editor.js"],"names":["EventEmitter","EventEmitterClass","$","window","document","ready","theGrid","Grid","addExtension","FiltersResetExtension","SortingExtension","ReloadListExtension","ExportToSqlManagerExtension","ColumnTogglingExtension","translatorInput","TranslatableInput","ChoiceTable","FormSubmitButton","TaggableField","tokenFieldSelector","options","createTokensOnBlur","TextWithRecommendedLengthCounter","TranslatableField","TinyMCEEditor","id","$container","closest","find","extension","extend","grid","getContainer","on","event","currentTarget","data","global","init","resetSearch","url","redirectUrl","post","then","location","assign","$sortableTable","TableSorting","attach","table","selector","columns","e","$column","delegateTarget","_sortByColumn","_getToggledSortDirection","columnName","direction","is","Error","column","_getUrl","colName","prefix","URL","href","params","searchParams","set","toString","getHeaderContainer","reload","$table","preventDefault","_toggleValue","row","toggleUrl","_submitAsForm","$form","action","method","appendTo","submit","_onShowSqlQueryClick","_onExportSqlManagerClick","$sqlManagerForm","getId","_fillExportForm","$modal","modal","query","val","_getNameFromBreadcrumb","$breadcrumbs","name","each","i","item","$breadcrumb","breadcrumbTitle","length","text","concat","localeItemSelector","localeButtonSelector","localeInputSelector","toggleLanguage","bind","toggleInputs","localeItem","target","form","emit","selectedLocale","localeButton","changeLanguageUrl","addClass","removeClass","_saveSelectedLanguage","language_iso_code","handleSelectAll","$selectAllCheckboxes","isSelectAllChecked","prop","$btn","confirm","append","tokenfield","$input","localeNavigationSelector","toggleFields","localeLink","index","navigation","selectedLink","tab","tinyMCELoaded","baseAdminUrl","baseAdminDir","pathParts","pathname","split","every","pathPart","langIsRtl","lang_is_rtl","setupTinyMCE","config","tinyMCE","loadAndInitTinyMCE","initTinyMCE","Object","plugins","browser_spellcheck","toolbar1","toolbar2","external_filemanager_path","filemanager_title","external_plugins","language","iso_user","content_style","skin","menubar","statusbar","relative_urls","convert_urls","entity_encoding","extended_valid_elements","valid_children","valid_elements","rel_list","title","value","editor_selector","init_instance_callback","changeToMaterial","setup","editor","setupEditor","watchTabChanges","handleCounterTiny","triggerSave","textarea","translatedField","tabContainer","textareaLocale","textareaLinkSelector","get","setContent","getContent","pathArray","splice","finalPath","join","tinyMCEPreInit","base","suffix","getScript","materialIconAssoc","replaceWith","counter","attr","counterType","max","activeEditor","getBody","textContent","parent"],"mappings":"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;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,s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","file":"admindocumenttypecontroller.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 15180e6e545418b0d345","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nimport EventEmitterClass from 'events';\n\n/**\n * We instanciate one EventEmitter (restricted via a const) so that every components\n * register/dispatch on the same one and can communicate with each other.\n */\nexport const EventEmitter = new EventEmitterClass();\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/event-emitter.js","/* global $, prestashop */\n/**\n * 2013-2019 Frédéric BENOIST\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * Use, copy, modification or distribution of this source file without written\n * license agreement from Frédéric BENOIST is strictly forbidden.\n *\n * INFORMATION SUR LA LICENCE D'UTILISATION\n *\n * L'utilisation de ce fichier source est soumise a une licence Academic Free License (AFL 3.0)\n * Toute utilisation, reproduction, modification ou distribution du present\n * fichier source sans contrat de licence ecrit de Frédéric BENOIST est\n * expressement interdite.\n *\n *  @author    Frédéric BENOIST\n *  @copyright 2013-2019 Frédéric BENOIST <https://www.fbenoist.com>\n *  @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)\n */\n\n// Use this file to customize AdminDocumentTypeController\n\nimport Grid from './components/grid/grid';\nimport FiltersResetExtension from \"./components/grid/extension/filters-reset-extension\";\nimport SortingExtension from \"./components/grid/extension/sorting-extension\";\nimport ReloadListExtension from \"./components/grid/extension/reload-list-extension\";\nimport ColumnTogglingExtension from \"./components/grid/extension/column-toggling-extension\";\nimport ExportToSqlManagerExtension from \"./components/grid/extension/export-to-sql-manager-extension\";\nimport TranslatableInput from './components/translatable-input';\nimport ChoiceTable from './components/choice-table';\nimport FormSubmitButton from './components/form-submit-button';\nimport TaggableField from './components/taggable-field';\nimport TextWithRecommendedLengthCounter from './components/form/text-with-recommended-length-counter';\nimport TranslatableField from './components/translatable-field';\nimport TinyMCEEditor from './components/tinymce-editor';\n\nconst $ = window.$;\n\n$(document).ready(() => {\n  const theGrid = new Grid('admindocumenttypegrid');\n\n  theGrid.addExtension(new FiltersResetExtension());\n  theGrid.addExtension(new SortingExtension());\n  theGrid.addExtension(new ReloadListExtension());\n  theGrid.addExtension(new ExportToSqlManagerExtension());\n  theGrid.addExtension(new ColumnTogglingExtension());\n\n  const translatorInput = new TranslatableInput();\n\n  new ChoiceTable();\n  new FormSubmitButton();\n  new TaggableField({\n    tokenFieldSelector: 'input.js-taggable-field',\n    options: {\n      createTokensOnBlur: true,\n    },\n  });\n  new TextWithRecommendedLengthCounter();\n  new TranslatableField();\n  new TinyMCEEditor();\n\n\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/admindocumenttypecontroller.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * Class is responsible for handling Grid events\n */\nexport default class Grid {\n  /**\n   * Grid id\n   *\n   * @param {string} id\n   */\n  constructor(id) {\n    this.id = id;\n    this.$container = $('#' + this.id + '_grid');\n  }\n\n  /**\n   * Get grid id\n   *\n   * @returns {string}\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * Get grid container\n   *\n   * @returns {jQuery}\n   */\n  getContainer() {\n    return this.$container;\n  }\n\n  /**\n   * Get grid header container\n   *\n   * @returns {jQuery}\n   */\n  getHeaderContainer() {\n    return this.$container.closest('.js-grid-panel').find('.js-grid-header');\n  }\n\n  /**\n   * Extend grid with external extensions\n   *\n   * @param {object} extension\n   */\n  addExtension(extension) {\n    extension.extend(this);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/grid/grid.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nimport resetSearch from '../../../app/utils/reset_search';\n\nconst $ = window.$;\n\n/**\n * Class FiltersResetExtension extends grid with filters resetting\n */\nexport default class FiltersResetExtension {\n\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    grid.getContainer().on('click', '.js-reset-search', (event) => {\n      resetSearch($(event.currentTarget).data('url'), $(event.currentTarget).data('redirect'));\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/grid/extension/filters-reset-extension.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\n/**\n * Send a Post Request to reset search Action.\n */\n\nconst $ = global.$;\n\nconst init = function resetSearch(url, redirectUrl) {\n    $.post(url).then(() => window.location.assign(redirectUrl));\n};\n\nexport default init;\n\n\n\n// WEBPACK FOOTER //\n// ./js/app/utils/reset_search.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nimport TableSorting from '../../../app/utils/table-sorting';\n\n/**\n * Class ReloadListExtension extends grid with \"List reload\" action\n */\nexport default class SortingExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    const $sortableTable = grid.getContainer().find('table.table');\n\n    new TableSorting($sortableTable).attach();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/grid/extension/sorting-extension.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = global.$;\n\n/**\n * Makes a table sortable by columns.\n * This forces a page reload with more query parameters.\n */\nclass TableSorting {\n\n  /**\n   * @param {jQuery} table\n   */\n  constructor(table) {\n    this.selector = '.ps-sortable-column';\n    this.columns = $(table).find(this.selector);\n  }\n\n  /**\n   * Attaches the listeners\n   */\n  attach() {\n    this.columns.on('click', (e) => {\n      const $column = $(e.delegateTarget);\n      this._sortByColumn($column, this._getToggledSortDirection($column));\n    });\n  }\n\n  /**\n   * Sort using a column name\n   * @param {string} columnName\n   * @param {string} direction \"asc\" or \"desc\"\n   */\n  sortBy(columnName, direction) {\n    const $column = this.columns.is(`[data-sort-col-name=\"${columnName}\"]`);\n    if (!$column) {\n      throw new Error(`Cannot sort by \"${columnName}\": invalid column`);\n    }\n\n    this._sortByColumn($column, direction);\n  }\n\n  /**\n   * Sort using a column element\n   * @param {jQuery} column\n   * @param {string} direction \"asc\" or \"desc\"\n   * @private\n   */\n  _sortByColumn(column, direction) {\n    window.location = this._getUrl(column.data('sortColName'), (direction === 'desc') ? 'desc' : 'asc', column.data('sortPrefix'));\n  }\n\n  /**\n   * Returns the inverted direction to sort according to the column's current one\n   * @param {jQuery} column\n   * @return {string}\n   * @private\n   */\n  _getToggledSortDirection(column) {\n    return column.data('sortDirection') === 'asc' ? 'desc' : 'asc';\n  }\n\n  /**\n   * Returns the url for the sorted table\n   * @param {string} colName\n   * @param {string} direction\n   * @param {string} prefix\n   * @return {string}\n   * @private\n   */\n  _getUrl(colName, direction, prefix) {\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n\n    if (prefix) {\n      params.set(prefix+'[orderBy]', colName);\n      params.set(prefix+'[sortOrder]', direction);\n    } else {\n      params.set('orderBy', colName);\n      params.set('sortOrder', direction);\n    }\n\n    return url.toString();\n  }\n}\n\nexport default TableSorting;\n\n\n\n// WEBPACK FOOTER //\n// ./js/app/utils/table-sorting.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\n/**\n * Class ReloadListExtension extends grid with \"List reload\" action\n */\nexport default class ReloadListExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    grid.getHeaderContainer().on('click', '.js-common_refresh_list-grid-action', () => {\n      location.reload();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/grid/extension/reload-list-extension.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = global.$;\n\n/**\n * Class ReloadListExtension extends grid with \"Column toggling\" feature\n */\nexport default class ColumnTogglingExtension {\n\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    const $table = grid.getContainer().find('table.table');\n    $table.find('.ps-togglable-row').on('click', (e) => {\n      e.preventDefault();\n      this._toggleValue($(e.delegateTarget));\n    });\n  }\n\n  /**\n   * @param {jQuery} row\n   * @private\n   */\n  _toggleValue(row) {\n    const toggleUrl = row.data('toggleUrl');\n\n    this._submitAsForm(toggleUrl);\n  }\n\n  /**\n   * Submits request url as form\n   *\n   * @param {string} toggleUrl\n   * @private\n   */\n  _submitAsForm(toggleUrl) {\n    const $form = $('<form>', {\n      action: toggleUrl,\n      method: 'POST',\n    }).appendTo('body');\n\n    $form.submit();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/grid/extension/column-toggling-extension.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * Class ExportToSqlManagerExtension extends grid with exporting query to SQL Manager\n */\nexport default class ExportToSqlManagerExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    grid.getHeaderContainer().on('click', '.js-common_show_query-grid-action', () => this._onShowSqlQueryClick(grid));\n    grid.getHeaderContainer().on('click', '.js-common_export_sql_manager-grid-action', () => this._onExportSqlManagerClick(grid));\n  }\n\n  /**\n   * Invoked when clicking on the \"show sql query\" toolbar button\n   *\n   * @param {Grid} grid\n   *\n   * @private\n   */\n  _onShowSqlQueryClick(grid) {\n    const $sqlManagerForm = $('#' + grid.getId() + '_common_show_query_modal_form');\n    this._fillExportForm($sqlManagerForm, grid);\n\n    const $modal = $('#' + grid.getId() + '_grid_common_show_query_modal');\n    $modal.modal('show');\n\n    $modal.on('click', '.btn-sql-submit', () => $sqlManagerForm.submit());\n  }\n\n  /**\n   * Invoked when clicking on the \"export to the sql query\" toolbar button\n   *\n   * @param {Grid} grid\n   *\n   * @private\n   */\n  _onExportSqlManagerClick(grid) {\n    const $sqlManagerForm = $('#' + grid.getId() + '_common_show_query_modal_form');\n\n    this._fillExportForm($sqlManagerForm, grid);\n\n    $sqlManagerForm.submit();\n  }\n\n  /**\n   * Fill export form with SQL and it's name\n   *\n   * @param {jQuery} $sqlManagerForm\n   * @param {Grid} grid\n   *\n   * @private\n   */\n  _fillExportForm($sqlManagerForm, grid) {\n    const query = grid.getContainer().find('.js-grid-table').data('query');\n\n    $sqlManagerForm.find('textarea[name=\"sql\"]').val(query);\n    $sqlManagerForm.find('input[name=\"name\"]').val(this._getNameFromBreadcrumb());\n  }\n\n  /**\n   * Get export name from page's breadcrumb\n   *\n   * @return {String}\n   *\n   * @private\n   */\n  _getNameFromBreadcrumb() {\n    const $breadcrumbs = $('.header-toolbar').find('.breadcrumb-item');\n    let name = '';\n\n    $breadcrumbs.each((i, item) => {\n      const $breadcrumb = $(item);\n\n      const breadcrumbTitle = 0 < $breadcrumb.find('a').length ?\n        $breadcrumb.find('a').text() :\n        $breadcrumb.text();\n\n      if (0 < name.length) {\n        name = name.concat(' > ');\n      }\n\n      name = name.concat(breadcrumbTitle);\n    });\n\n    return name;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/grid/extension/export-to-sql-manager-extension.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nimport {EventEmitter} from './event-emitter';\n\nconst $ = window.$;\n\n/**\n * This class is used to automatically toggle translated inputs (displayed with one\n * input and a language selector using the TranslatableType Symfony form type).\n * Also compatible with TranslatableField changes.\n */\nclass TranslatableInput {\n  constructor(options) {\n    options = options || {};\n\n    this.localeItemSelector = options.localeItemSelector || '.js-locale-item';\n    this.localeButtonSelector = options.localeButtonSelector || '.js-locale-btn';\n    this.localeInputSelector = options.localeInputSelector || '.js-locale-input';\n\n    $('body').on('click', this.localeItemSelector, this.toggleLanguage.bind(this));\n    EventEmitter.on('languageSelected', this.toggleInputs.bind(this));\n  }\n\n  /**\n   * Dispatch event on language selection to update inputs and other components which depend on the locale.\n   *\n   * @param event\n   */\n  toggleLanguage(event) {\n    const localeItem = $(event.target);\n    const form = localeItem.closest('form');\n    EventEmitter.emit('languageSelected', {selectedLocale: localeItem.data('locale'), form: form});\n  }\n\n  /**\n   * Toggle all translatable inputs in form in which locale was changed\n   *\n   * @param {Event} event\n   */\n  toggleInputs(event) {\n    const form = event.form;\n    const selectedLocale = event.selectedLocale;\n    const localeButton = form.find(this.localeButtonSelector);\n    const changeLanguageUrl = localeButton.data('change-language-url');\n\n    localeButton.text(selectedLocale);\n    form.find(this.localeInputSelector).addClass('d-none');\n    form.find(`${this.localeInputSelector}.js-locale-${selectedLocale}`).removeClass('d-none');\n\n    if (changeLanguageUrl) {\n      this._saveSelectedLanguage(changeLanguageUrl, selectedLocale);\n    }\n  }\n\n  /**\n   * Save language choice for employee forms.\n   *\n   * @param {String} changeLanguageUrl\n   * @param {String} selectedLocale\n   *\n   * @private\n   */\n  _saveSelectedLanguage(changeLanguageUrl, selectedLocale) {\n    $.post({\n      url: changeLanguageUrl,\n      data: {\n        language_iso_code: selectedLocale\n      },\n    });\n  }\n}\n\nexport default TranslatableInput;\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/translatable-input.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/events/events.js\n// module id = 13\n// module chunks = 0","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * ChoiceTable is responsible for managing common actions in choice table form type\n */\nexport default class ChoiceTable {\n  /**\n   * Init constructor\n   */\n  constructor() {\n    $(document).on('change', '.js-choice-table-select-all', (e) => {\n      this.handleSelectAll(e);\n    });\n  }\n\n  /**\n   * Check/uncheck all boxes in table\n   *\n   * @param {Event} event\n   */\n  handleSelectAll(event) {\n    const $selectAllCheckboxes = $(event.target);\n    const isSelectAllChecked = $selectAllCheckboxes.is(':checked');\n\n    $selectAllCheckboxes.closest('table').find('tbody input:checkbox').prop('checked', isSelectAllChecked);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/choice-table.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * Component which allows submitting very simple forms without having to use <form> element.\n *\n * Useful when performing actions on resource where URL contains all needed data.\n * For example, to toggle category status via \"POST /categories/2/toggle-status)\"\n * or delete cover image via \"POST /categories/2/delete-cover-image\".\n *\n * Usage example in template:\n *\n * <button class=\"js-form-submit-btn\"\n *         data-form-submit-url=\"/my-custom-url\"          // (required) URL to which form will be submitted\n *         data-form-csrf-token=\"my-generated-csrf-token\" // (optional) to increase security\n *         data-form-confirm-message=\"Are you sure?\"      // (optional) to confirm action before submit\n *         type=\"button\"                                  // make sure its simple button\n *                                                        // so we can avoid submitting actual form\n *                                                        // when our button is defined inside form\n * >\n *     Click me to submit form\n * </button>\n *\n * In page specific JS you have to enable this feature:\n *\n * new FormSubmitButton();\n */\nexport default class FormSubmitButton {\n  constructor() {\n    $(document).on('click', '.js-form-submit-btn', function (event) {\n      event.preventDefault();\n\n      const $btn = $(this);\n\n      if ($btn.data('form-confirm-message') && false === confirm($btn.data('form-confirm-message'))) {\n        return;\n      }\n\n      const $form = $('<form>', {\n        'action': $btn.data('form-submit-url'),\n        'method': 'POST',\n      });\n\n      if ($btn.data('form-csrf-token')) {\n        $form.append($('<input>', {\n          'type': '_hidden',\n          'name': '_csrf_token',\n          'value': $btn.data('form-csrf-token')\n        }));\n      }\n\n      $form.appendTo('body').submit();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/form-submit-button.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * class TaggableField is responsible for providing functionality from bootstrap-tokenfield plugin.\n * It allows to have taggable fields which are split in separate blocks once you click enter. Values originally saved\n * in comma split strings.\n */\nexport default class TaggableField {\n  /**\n   * @param {string} tokenFieldSelector -  a selector which is used within jQuery object.\n   * @param {object} options - extends basic tokenField behavior with additional options such as minLength, delimiter,\n   * allow to add token on focus out action. See bootstrap-tokenfield docs for more information.\n   */\n  constructor({tokenFieldSelector, options = {}}) {\n    $(tokenFieldSelector).tokenfield(options);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/taggable-field.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * This component is implemented to work with TextWithRecommendedLengthType,\n * but can be used as standalone component as well.\n *\n * Usage:\n *\n * Define your HTML with input and counter. Example:\n *\n * <input id=\"myInput\"\n *        class=\"js-recommended-length-input\"\n *        data-recommended-length-counter=\"#myInput_recommended_length_counter\"\n * >\n *\n * <div id\"myInput_recommended_length_counter\">\n *  <span class=\"js-current-length\">0</span> of 70 characters used (recommended)\n * </div>\n *\n * NOTE: You must use exactly the same Classes, but IDs can be different!\n *\n * Then enable component in JavaScript:\n *\n * new TextWithRecommendedLengthCounter();\n */\nexport default class TextWithRecommendedLengthCounter {\n  constructor() {\n    $(document).on('input', '.js-recommended-length-input', (event) => {\n      const $input = $(event.currentTarget);\n\n      $($input.data('recommended-length-counter')).find('.js-current-length').text($input.val().length);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/form/text-with-recommended-length-counter.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nimport {EventEmitter} from './event-emitter';\n\nconst $ = window.$;\n\n/**\n * This class is used to automatically toggle translated fields (displayed with tabs\n * using the TranslateType Symfony form type).\n * Also compatible with TranslatableInput changes.\n */\nclass TranslatableField {\n  constructor(options) {\n    options = options || {};\n\n    this.localeButtonSelector = options.localeButtonSelector || '.translationsLocales.nav .nav-item a[data-toggle=\"tab\"]';\n    this.localeNavigationSelector = options.localeNavigationSelector || '.translationsLocales.nav';\n\n    $('body').on('shown.bs.tab', this.localeButtonSelector, this.toggleLanguage.bind(this));\n    EventEmitter.on('languageSelected', this.toggleFields.bind(this));\n  }\n\n  /**\n   * Dispatch event on language selection to update inputs and other components which depend on the locale.\n   *\n   * @param event\n   */\n  toggleLanguage(event) {\n    const localeLink = $(event.target);\n    const form = localeLink.closest('form');\n    EventEmitter.emit('languageSelected', {selectedLocale: localeLink.data('locale'), form: form});\n  }\n\n  /**\n   * Toggle all transtation fields to the selected locale\n   *\n   * @param event\n   */\n  toggleFields(event) {\n    $(this.localeNavigationSelector).each((index, navigation) => {\n      const selectedLink = $('.nav-item a.active', navigation);\n      const selectedLocale = selectedLink.data('locale');\n      if (event.selectedLocale !== selectedLocale) {\n        $('.nav-item a[data-locale=\"'+event.selectedLocale+'\"]', navigation).tab('show');\n      }\n    });\n  }\n}\n\nexport default TranslatableField;\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/translatable-field.js","/**\n * 2007-2019 PrestaShop and Contributors\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2019 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * This class init TinyMCE instances in the back-office. It is wildly inspired by\n * the scripts from js/admin And it actually loads TinyMCE from the js/tiny_mce\n * folder along with its modules. One improvement could be to install TinyMCE via\n * npm and fully integrate in the back-office theme.\n */\nclass TinyMCEEditor {\n  constructor(options) {\n    options = options || {};\n    this.tinyMCELoaded = false;\n    if (typeof options.baseAdminUrl == 'undefined') {\n      if (typeof window.baseAdminDir != 'undefined') {\n        options.baseAdminUrl = window.baseAdminDir;\n      } else {\n        const pathParts = window.location.pathname.split('/');\n        pathParts.every(function(pathPart) {\n          if (pathPart !== '') {\n            options.baseAdminUrl = `/${pathPart}/`;\n\n            return false;\n          }\n\n          return true;\n        });\n      }\n    }\n    if (typeof options.langIsRtl == 'undefined') {\n      options.langIsRtl = typeof window.lang_is_rtl != 'undefined' ? window.lang_is_rtl === '1' : false;\n    }\n    this.setupTinyMCE(options);\n  }\n\n  /**\n   * Initial setup which checks if the tinyMCE library is already loaded.\n   *\n   * @param config\n   */\n  setupTinyMCE(config) {\n    if (typeof tinyMCE === 'undefined') {\n      this.loadAndInitTinyMCE(config);\n    } else {\n      this.initTinyMCE(config);\n    }\n  }\n\n  /**\n   * Prepare the config and init all TinyMCE editors\n   *\n   * @param config\n   */\n  initTinyMCE(config) {\n    config = Object.assign({\n      selector: '.rte',\n      plugins: 'align colorpicker link image filemanager table media placeholder advlist code table autoresize',\n      browser_spellcheck: true,\n      toolbar1: 'code,colorpicker,bold,italic,underline,strikethrough,blockquote,link,align,bullist,numlist,table,image,media,formatselect',\n      toolbar2: '',\n      external_filemanager_path: config.baseAdminUrl + 'filemanager/',\n      filemanager_title: 'File manager',\n      external_plugins: {\n        'filemanager': config.baseAdminUrl + 'filemanager/plugin.min.js'\n      },\n      language: iso_user,\n      content_style : (config.langIsRtl ? 'body {direction:rtl;}' : ''),\n      skin: 'prestashop',\n      menubar: false,\n      statusbar: false,\n      relative_urls: false,\n      convert_urls: false,\n      entity_encoding: 'raw',\n      extended_valid_elements: 'em[class|name|id],@[role|data-*|aria-*]',\n      valid_children: '+*[*]',\n      valid_elements: '*[*]',\n      rel_list:[\n        { title: 'nofollow', value: 'nofollow' }\n      ],\n      editor_selector :'autoload_rte',\n      init_instance_callback: () => { this.changeToMaterial(); },\n      setup : (editor) => { this.setupEditor(editor); },\n    }, config);\n\n    if (typeof config.editor_selector != 'undefined') {\n      config.selector = '.' + config.editor_selector;\n    }\n\n    // Change icons in popups\n    $('body').on('click', '.mce-btn, .mce-open, .mce-menu-item', () => { this.changeToMaterial(); });\n\n    tinyMCE.init(config);\n    this.watchTabChanges(config);\n  }\n\n  /**\n   * Setup TinyMCE editor once it has been initialized\n   *\n   * @param editor\n   */\n  setupEditor(editor) {\n    editor.on('loadContent', (event) => {\n      this.handleCounterTiny(event.target.id);\n    });\n    editor.on('change', (event) => {\n      tinyMCE.triggerSave();\n      this.handleCounterTiny(event.target.id);\n    });\n    editor.on('blur', () => {\n      tinyMCE.triggerSave();\n    });\n  }\n\n  /**\n   * When the editor is inside a tab it can cause a bug on tab switching.\n   * So we check if the editor is contained in a navigation and refresh the editor when its\n   * parent tab is shown.\n   *\n   * @param config\n   */\n  watchTabChanges(config) {\n    $(config.selector).each((index, textarea) => {\n      const translatedField = $(textarea).closest('.translation-field');\n      const tabContainer = $(textarea).closest('.translations.tabbable');\n\n      if (translatedField.length && tabContainer.length) {\n        const textareaLocale = translatedField.data('locale');\n        const textareaLinkSelector = '.nav-item a[data-locale=\"'+textareaLocale+'\"]';\n\n        $(textareaLinkSelector, tabContainer).on('shown.bs.tab', () => {\n          const editor = tinyMCE.get(textarea.id);\n          if (editor) {\n            //Reset content to force refresh of editor\n            editor.setContent(editor.getContent());\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Loads the TinyMCE javascript library and then init the editors\n   *\n   * @param config\n   */\n  loadAndInitTinyMCE(config) {\n    if (this.tinyMCELoaded) {\n      return;\n    }\n\n    this.tinyMCELoaded = true;\n    const pathArray = config.baseAdminUrl.split('/');\n    pathArray.splice((pathArray.length - 2), 2);\n    const finalPath = pathArray.join('/');\n    window.tinyMCEPreInit = {};\n    window.tinyMCEPreInit.base = finalPath+'/js/tiny_mce';\n    window.tinyMCEPreInit.suffix = '.min';\n    $.getScript(`${finalPath}/js/tiny_mce/tinymce.min.js`, () => {this.setupTinyMCE(config)});\n  }\n\n  /**\n   * Replace initial TinyMCE icons with material icons\n   */\n  changeToMaterial() {\n    let materialIconAssoc = {\n      'mce-i-code': '<i class=\"material-icons\">code</i>',\n      'mce-i-none': '<i class=\"material-icons\">format_color_text</i>',\n      'mce-i-bold': '<i class=\"material-icons\">format_bold</i>',\n      'mce-i-italic': '<i class=\"material-icons\">format_italic</i>',\n      'mce-i-underline': '<i class=\"material-icons\">format_underlined</i>',\n      'mce-i-strikethrough': '<i class=\"material-icons\">format_strikethrough</i>',\n      'mce-i-blockquote': '<i class=\"material-icons\">format_quote</i>',\n      'mce-i-link': '<i class=\"material-icons\">link</i>',\n      'mce-i-alignleft': '<i class=\"material-icons\">format_align_left</i>',\n      'mce-i-aligncenter': '<i class=\"material-icons\">format_align_center</i>',\n      'mce-i-alignright': '<i class=\"material-icons\">format_align_right</i>',\n      'mce-i-alignjustify': '<i class=\"material-icons\">format_align_justify</i>',\n      'mce-i-bullist': '<i class=\"material-icons\">format_list_bulleted</i>',\n      'mce-i-numlist': '<i class=\"material-icons\">format_list_numbered</i>',\n      'mce-i-image': '<i class=\"material-icons\">image</i>',\n      'mce-i-table': '<i class=\"material-icons\">grid_on</i>',\n      'mce-i-media': '<i class=\"material-icons\">video_library</i>',\n      'mce-i-browse': '<i class=\"material-icons\">attachment</i>',\n      'mce-i-checkbox': '<i class=\"mce-ico mce-i-checkbox\"></i>',\n    };\n\n    $.each(materialIconAssoc, function (index, value) {\n      $(`.${index}`).replaceWith(value);\n    });\n  }\n\n  /**\n   * Updates the characters counter\n   *\n   * @param id\n   */\n  handleCounterTiny(id) {\n    const textarea = $(`#${id}`);\n    const counter = textarea.attr('counter');\n    const counterType = textarea.attr('counter_type');\n    const max = tinyMCE.activeEditor.getBody().textContent.length;\n\n    textarea.parent().find('span.currentLength').text(max);\n    if ('recommended' !== counterType && max > counter) {\n      textarea.parent().find('span.maxLength').addClass('text-danger');\n    } else {\n      textarea.parent().find('span.maxLength').removeClass('text-danger');\n    }\n  }\n}\n\nexport default TinyMCEEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/tinymce-editor.js"],"sourceRoot":""}
